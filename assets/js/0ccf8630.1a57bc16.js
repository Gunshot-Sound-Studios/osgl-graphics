"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[852],{45990:(e,n,a)=>{a.r(n),a.d(n,{assets:()=>d,contentTitle:()=>t,default:()=>h,frontMatter:()=>i,metadata:()=>r,toc:()=>c});const r=JSON.parse('{"id":"Migrating/Migration","title":"Migration","description":"Welcome to the migration guide for transitioning from CanvasDraw to OSGL. This guide will walk you through the key steps and changes needed to migrate your existing codebase smoothly from CanvasDraw to OSGL.","source":"@site/docs/Migrating/Migration.md","sourceDirName":"Migrating","slug":"/Migrating/Migration","permalink":"/osgl/docs/Migrating/Migration","draft":false,"unlisted":false,"editUrl":"https://github.com/osgl-rbx/osgl/edit/main/docs/Migrating/Migration.md","tags":[],"version":"current","frontMatter":{},"sidebar":"defaultSidebar","previous":{"title":"Multiple Renderers","permalink":"/osgl/docs/Advanced/multiple-renderers"}}');var o=a(74848),s=a(28453);const i={},t=void 0,d={},c=[];function l(e){const n={a:"a",code:"code",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.p,{children:"Welcome to the migration guide for transitioning from CanvasDraw to OSGL. This guide will walk you through the key steps and changes needed to migrate your existing codebase smoothly from CanvasDraw to OSGL."}),"\n",(0,o.jsx)(n.p,{children:"It's important to note that OSGL and CanvasDraw have different internal architectures. OSGL works differently from CanvasDraw, so you may need to refactor your code."}),"\n",(0,o.jsxs)(n.p,{children:["In CanvasDraw, you create objects known as canvases with ",(0,o.jsx)(n.code,{children:"CanvasDraw.new()"}),". In OSGL, you create a ",(0,o.jsx)(n.strong,{children:"window"}),", which you can read about ",(0,o.jsx)(n.a,{href:"/osgl/docs/rendering-to-a-window",children:"here"}),":"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-lua",children:"local CanvasDraw = require(path)\r\nlocal OSGL = require(path)\r\nlocal Window = OSGL.Window -- OSGL is broken down into sub-modules that handle different aspects\r\n\r\n-- CanvasDraw\r\nCanvasDraw.new(Parent, Resolution, Color, Blur)\r\n\r\n-- OSGL\r\nWindow.new(Parent, { sizeX = width, sizeY = height })\n"})}),"\n",(0,o.jsxs)(n.p,{children:["You can use the ",(0,o.jsx)(n.code,{children:"Window.new"})," function to create the equivalent of a CanvasDraw canvas in OSGL. The OSGL code creates an EditableImage of size ",(0,o.jsx)(n.code,{children:"(sizeX, sizeY)"}),"."]}),"\n",(0,o.jsxs)(n.p,{children:["All drawing methods can be directly accessed from the ",(0,o.jsx)(n.code,{children:"Canvas"})," object in CanvasDraw. In OSGL, drawing is handled by different sub-modules (e.g., handling color, drawing, loading textures, etc.). Here is a comparison example:"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-lua",children:"local CanvasDraw = require(path)\r\nlocal OSGL = require(path)\r\nlocal Window = OSGL.Window\r\nlocal color = OSGL.color\r\nlocal draw = OSGL.draw\r\n\r\n-- Draw a red pixel\r\nlocal Canvas = CanvasDraw.new(Frame, Vector2.new(150, 100))\r\nCanvas:DrawPixel(Vector2.new(75, 50), Color3.new(1, 0, 0))\r\n\r\n-- Draw a red pixel\r\nlocal window = Window.new(Frame, { sizeX = 150, sizeY = 100 })\r\ndraw.pixel(window, 76, 51, color.RED)\n"})}),"\n",(0,o.jsx)(n.p,{children:"It's also important to note two things:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"In OSGL, the top-left corner of the window is (0,0). In CanvasDraw, it is (1,1)."}),"\n",(0,o.jsxs)(n.li,{children:["The ",(0,o.jsx)(n.code,{children:"draw"})," module is not needed to draw onto the window."]}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:"Similar to CanvasDraw, you can draw any shape via method in OSGL, but OSGL allows you to chain these methods:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-lua",children:'local Canvas = CanvasDraw.new(Frame, Vector2.new(150, 100))\r\nCanvas:DrawPixel(Vector2.new(75, 50), Color3.new(1, 0, 0))\r\nCanvas:DrawLine(Vector2.new(5, 5), Vector2.new(145, 95), Color3.new(1, 0, 0), 2, true)\r\n\r\nlocal window = Window.new(Frame, { sizeX = 150, sizeY = 100 })\r\nwindow\r\n    :Draw() -- Opens a "DrawingContext".\r\n    :Pixel(76, 51, color.RED)\r\n    :Line(6, 6, 146, 96, 2, color.RED)\r\n    :StopDrawing() -- If you want to access the window\'s methods, you can use this.\r\n                   -- Otherwise, it is not needed!\n'})}),"\n",(0,o.jsxs)(n.p,{children:["These methods are the same as the ",(0,o.jsx)(n.code,{children:"Draw"})," methods, but they automatically pass the window as the first argument."]}),"\n",(0,o.jsxs)(n.p,{children:["You can find more about these methods in the ",(0,o.jsx)(n.code,{children:"API"}),", or on the ",(0,o.jsx)(n.a,{href:"/osgl/docs/Shapes/drawing-shapes",children:"shapes"})," page."]}),"\n",(0,o.jsxs)(n.p,{children:["Both ",(0,o.jsx)(n.code,{children:"Window"}),"s and ",(0,o.jsx)(n.code,{children:"Texture"}),"s are known as ",(0,o.jsx)(n.code,{children:"DrawableObject"}),"s. A ",(0,o.jsx)(n.code,{children:"Window"})," is a special form of a ",(0,o.jsx)(n.code,{children:"Texture"}),", and a ",(0,o.jsx)(n.code,{children:"Texture"})," is a ",(0,o.jsx)(n.code,{children:"buffer"})," containing pixel data. This is similar to CanvasDraw's ",(0,o.jsx)(n.code,{children:"ImageData"}),". To save a texture, save the ",(0,o.jsx)(n.code,{children:"buffer"}),", ",(0,o.jsx)(n.code,{children:"sizeX"}),", and ",(0,o.jsx)(n.code,{children:"sizeY"})," (or just the ",(0,o.jsx)(n.code,{children:"size"}),"). Since it's a ",(0,o.jsx)(n.code,{children:"Texture"}),", you can load it back into the game. This process is described in ",(0,o.jsxs)(n.a,{href:"/osgl/docs/Advanced/serializing-and-deserializing",children:[(0,o.jsx)(n.code,{children:"Serialization"})," and ",(0,o.jsx)(n.code,{children:"Deserialization"})]}),"."]})]})}function h(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(l,{...e})}):l(e)}},28453:(e,n,a)=>{a.d(n,{R:()=>i,x:()=>t});var r=a(96540);const o={},s=r.createContext(o);function i(e){const n=r.useContext(s);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:i(e.components),r.createElement(s.Provider,{value:n},e.children)}}}]);