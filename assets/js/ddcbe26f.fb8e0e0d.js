"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[989],{3905:(e,n,t)=>{t.d(n,{Zo:()=>p,kt:()=>m});var o=t(67294);function a(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function r(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);n&&(o=o.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,o)}return t}function i(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?r(Object(t),!0).forEach((function(n){a(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):r(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function l(e,n){if(null==e)return{};var t,o,a=function(e,n){if(null==e)return{};var t,o,a={},r=Object.keys(e);for(o=0;o<r.length;o++)t=r[o],n.indexOf(t)>=0||(a[t]=e[t]);return a}(e,n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(o=0;o<r.length;o++)t=r[o],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}var d=o.createContext({}),s=function(e){var n=o.useContext(d),t=n;return e&&(t="function"==typeof e?e(n):i(i({},n),e)),t},p=function(e){var n=s(e.components);return o.createElement(d.Provider,{value:n},e.children)},c="mdxType",w={inlineCode:"code",wrapper:function(e){var n=e.children;return o.createElement(o.Fragment,{},n)}},u=o.forwardRef((function(e,n){var t=e.components,a=e.mdxType,r=e.originalType,d=e.parentName,p=l(e,["components","mdxType","originalType","parentName"]),c=s(t),u=a,m=c["".concat(d,".").concat(u)]||c[u]||w[u]||r;return t?o.createElement(m,i(i({ref:n},p),{},{components:t})):o.createElement(m,i({ref:n},p))}));function m(e,n){var t=arguments,a=n&&n.mdxType;if("string"==typeof e||a){var r=t.length,i=new Array(r);i[0]=u;var l={};for(var d in n)hasOwnProperty.call(n,d)&&(l[d]=n[d]);l.originalType=e,l[c]="string"==typeof e?e:a,i[1]=l;for(var s=2;s<r;s++)i[s]=t[s];return o.createElement.apply(null,i)}return o.createElement.apply(null,t)}u.displayName="MDXCreateElement"},2116:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>d,contentTitle:()=>i,default:()=>w,frontMatter:()=>r,metadata:()=>l,toc:()=>s});var o=t(87462),a=(t(67294),t(3905));const r={sidebar_position:2},i="Managing & Rendering to a window",l={unversionedId:"Windows/managing-and-rendering-to-a-window",id:"Windows/managing-and-rendering-to-a-window",title:"Managing & Rendering to a window",description:"Now that we have our window, let's make this code a bit more interesting:",source:"@site/docs/Windows/managing-and-rendering-to-a-window.md",sourceDirName:"Windows",slug:"/Windows/managing-and-rendering-to-a-window",permalink:"/osgl-graphics/docs/Windows/managing-and-rendering-to-a-window",draft:!1,editUrl:"https://github.com/Gunshot-Sound-Studios/osgl-graphics/edit/main/docs/Windows/managing-and-rendering-to-a-window.md",tags:[],version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2},sidebar:"defaultSidebar",previous:{title:"Opening a window",permalink:"/osgl-graphics/docs/Windows/opening-a-window"},next:{title:"Serializing & Deserializing",permalink:"/osgl-graphics/docs/Windows/serializing-and-deserializing"}},d={},s=[],p={toc:s},c="wrapper";function w(e){let{components:n,...t}=e;return(0,a.kt)(c,(0,o.Z)({},p,t,{components:n,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"managing--rendering-to-a-window"},"Managing & Rendering to a window"),(0,a.kt)("p",null,"Now that we have our window, let's make this code a bit more interesting:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-lua"},"local OSGL = require(ReplicatedStorage.Packages.OSGL)\nlocal Window = OSGL.Window\nlocal color = OSGL.color\n\nlocal windowUi -- reference to windowUi, our `ImageLabel`\n\n-- Create our window, 500x500\nlocal myWindow = Window.new(windowUi, { sizeX = 500, sizeY = 500 })\nmyWindow.targetFPS = 270\n\nwhile task.wait() do\n    myWindow\n        :Clear(color.BLACK)\n        :Render()\nend\n")),(0,a.kt)("p",null,"In summary, the code above creates a window with a size of 500x500 pixels, with a target FPS of 270. It continuously clears the screen using the ",(0,a.kt)("inlineCode",{parentName:"p"},"BLACK")," color (0, 0, 0, 255). The ",(0,a.kt)("inlineCode",{parentName:"p"},"Clear")," method clears the window's buffer with the specified color, and the ",(0,a.kt)("inlineCode",{parentName:"p"},"Render")," method displays the updated buffer on the screen."),(0,a.kt)("p",null,"It's important to note that the method calls do not need to be chained. You can achieve the same effect with separate statements, as shown below:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-lua"},"myWindow:Clear(color.BLACK)\nmyWindow:Render()\n")),(0,a.kt)("p",null,"This sample illustrates that you can call ",(0,a.kt)("inlineCode",{parentName:"p"},"Clear")," and ",(0,a.kt)("inlineCode",{parentName:"p"},"Render")," as independent operations if you prefer. The ",(0,a.kt)("inlineCode",{parentName:"p"},"color")," sub-module is utilized for manipulating colors in OSGL using the RGBA format. Once the window is closed, the program will terminate."),(0,a.kt)("p",null,'In this context, the loop implemented above is often referred to as the "event loop" or "game loop." The code inside this loop is executed every frame, allowing for continuous updates to the window. While clearing the buffer is one function we can perform, there are many additional operations we can execute within this loop.'),(0,a.kt)("p",null,"For instance, we can utilize the ",(0,a.kt)("inlineCode",{parentName:"p"},"draw")," sub-module to render directly onto the buffer. All drawing functions require a ",(0,a.kt)("inlineCode",{parentName:"p"},"Window")," or ",(0,a.kt)("inlineCode",{parentName:"p"},"Texture")," (known as a ",(0,a.kt)("inlineCode",{parentName:"p"},"DrawableObject"),") to specify where to draw. For example, to draw a pixel, you would use the appropriate draw function provided by OSGL:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-lua"},"local OSGL = require(ReplicatedStorage.Packages.OSGL)\nlocal Window = OSGL.Window\nlocal color = OSGL.color\nlocal draw = OSGL.draw\n\nlocal windowUi = -- *reference to windowUi, our `ImageLabel`*\n\n-- Create our window, 10x10\nlocal myWindow = Window.new(windowUi, { sizeX = 10, sizeY = 10 })\nmyWindow.targetFPS = 270\n\nwhile task.wait() do\n    myWindow:Clear(color.BLACK)\n    -- It isn't necessary to clear the screen. If you want to keep the contents\n    -- of the previous frame, you can!\n\n    -- Draw a red pixel on `myWindow`, at 0, 0\n    draw.pixel(myWindow, 0, 0, color.RED)\n\n    myWindow:Render()\nend\n")),(0,a.kt)("p",null,"In this example, each operation within the loop is presented as separate statements. However, these statements can be combined into a single statement using method chaining, as shown below:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-lua"},"myWindow\n    :Clear(color.BLACK)\n    :Draw() -- Open a `DrawingContext`\n    :Pixel(0, 0, color.RED) -- `myWindow` is automatically passed as the first argument\n    :StopDrawing()\n    :Render()\n")),(0,a.kt)("p",null,"You can learn more about the various shapes you can draw in the ",(0,a.kt)("a",{parentName:"p",href:"../Shapes/drawing-shapes"},"Drawing Shapes")," section!"),(0,a.kt)("p",null,"As alluded in the previous section, it's possible to render multiple ",(0,a.kt)("inlineCode",{parentName:"p"},"EditableImages")," within a single window using the ",(0,a.kt)("inlineCode",{parentName:"p"},"AddRenderer")," and ",(0,a.kt)("inlineCode",{parentName:"p"},"RemoveRenderer")," methods. These methods accept various types of Image components, such as ",(0,a.kt)("inlineCode",{parentName:"p"},"ImageLabel"),"s, ",(0,a.kt)("inlineCode",{parentName:"p"},"ImageButton"),"s, or any other image-like instances."),(0,a.kt)("p",null,"For example, to add multiple renderers to a window, you can use the AddRenderer method as follows:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-lua"},"-- Add two renderers to the window\nmyWindow:AddRenderer(imageLabelOne, imageButtonTwo)\n")),(0,a.kt)("p",null,"This code effectively enables the window to render onto both imageLabelOne and imageButtonTwo, with a minimal performance impact."),(0,a.kt)("p",null,"If you need to remove a renderer, you can do so by passing the instance you wish to remove as an argument to the ",(0,a.kt)("inlineCode",{parentName:"p"},"RemoveRenderer")," method. Instances that are not currently rendering in the window will be ignored:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-lua"},"-- Stop the window from rendering to imageButtonTwo\nmyWindow:RemoveRenderer(imageButtonTwo)\n")))}w.isMDXComponent=!0}}]);