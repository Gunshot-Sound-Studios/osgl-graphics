---
sidebar_position: 3
---

# Custom OSGL Image-Format

:::info
This is something that OSGL uses internally! It does not relate to drawing anything on the screen. If you're still interested in the file-structure, you can continue reading.
:::

An OSGL texture is the texture generated by `image-converter`. The texture, which is a dictionary, has 3 keys:

- width (The width of the texture)
- height (The height of the texture)
- pixels (The raw pixel data of the texture)

The `pixels` key of the texture is of type `{ number | string }`.  The `number` being of type `color`, and the string meaning flag, currently, the only flag is `r`, which means a repeated pixel.

The color is self-explanatory. It is the color of a specific pixel at a specific location. A string however contains multiple pixels of the same color, in the format: "rN-C", `N` meaning how many times that pixel is repeated, and `C` being the actual pixel color itself. For example, 5 pixels in a row of color "0" would be stored as "r5-0".

## Colors

Colors are stored as a single 32-bit unsigned integer (`u32`). This allows for compact representation and fast manipulation of colors in the form of a single number.

Each 32-bit color value is structured as four 8-bit components, representing the Red, Green, Blue, and Alpha (opacity) channels of the color. These components are packed into the 32-bit integer, with each component occupying one byte (8 bits).

## Byte Layout of the Color

The four components are stored in the following order, from the most significant byte to the least significant byte:

**First byte** (bits 1-8): Red (R)
**Second byte** (bits 9-16): Green (G)
**Third byte** (bits 17-24): Blue (B)
**Fourth byte** (bits 25-32): Alpha (A)

This can be visualised as:

|    R    |    G    |    B    |    A    |
|---------|---------|---------|---------|
|  8 bits |  8 bits |  8 bits |  8 bits |
|   1-8   |  9-16   |  17-24  |  25-32  |

For example, consider the color with the following components:

Red (**R**): 255 (`0xFF`)
Green (**G**): 128 (`0x80`)
Blue (**B**): 64 (`0x40`)
Alpha (**A**): 255 (`0xFF`)

These components would be packed into a 32-bit integer as follows:

Red (**R**): 255 (`0xFF`) -> Occupies bits 24-31

Green (**G**): 128 (`0x80`) -> Occupies bits 16-23

Blue (**B**): 64 (`0x40`) -> Occupies bits 8-15

Alpha (**A**): 255 (`0xFF`) -> Occupies bits 0-7

The resulting 32-bit integer representation would be: `0xFF8040FF` (`4286595327`)
